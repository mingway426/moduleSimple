def gitShortShaDate = 'git describe'.execute([], project.rootDir).text.trim()
def gitCommitCount = Integer.parseInt('git rev-list HEAD --count'.execute([], project.rootDir).text.trim())

ext {
    versionConfig = [
            compileSdkVersion        : 29,
            buildToolsVersion        : "29.0.3",
            minSdkVersion            : 23,
            targetSdkVersion         : 29,
            versionCode              : gitCommitCount,
            versionName              : gitShortShaDate,
            testInstrumentationRunner: "androidx.test.runner.AndroidJUnitRunner",
    ]
    implementationConfig = [
            publicImplementation: [
                    'androidx.appcompat:appcompat:1.1.0',
                    'androidx.constraintlayout:constraintlayout:1.1.3'
            ],
            testImplementation  : [
                    'androidx.test.ext:junit:1.1.1',
                    'androidx.test.espresso:espresso-core:3.2.0'
            ]
    ]
}